<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.tfjybj.english.provider.dao.WordPhoneficDao">
	<!--根据WordTest单词id模糊查询WordPhoneficEntity-->
    <select id="queryLikeWordId" resultType="com.tfjybj.english.entity.WordPhoneficEntity">
        SELECT
			*
        FROM
			tn_word_test f
        WHERE
			f.is_delete = 0
        <if test="wordId !=''">
            <bind name="pattern" value="'%' + wordId + '%'"/>
            AND f.word_id LIKE #{pattern}
        </if>
        ORDER BY
        f.create_time DESC
    </select>
    <!--     * 根据单词Id获取对应单词audio
    * @param wordId 单词Id
    * @return 单词audio
    * @author 张凯超-->
    <select id="queryAudioByWordId" resultType="com.tfjybj.english.entity.WordEntity">
        SELECT
          tn_word.audio
        FROM
          tn_word
        WHERE
          tn_word.id = #{wordId}

    </select>
    <!--    /**
     * 根据单词Id获取对应音标
     * @param wordId 单词Id
     * @return 单词audio
     * @author 张凯超
     */-->
    <select id="queryPhoneticByWordId" resultType="com.tfjybj.english.entity.WordPhoneficEntity">
        SELECT
          tn_word_test.phonefic
        FROM
          tn_word_test
        WHERE
          tn_word_test.word_id = #{wordId}

    </select>
    <!-- /**
 * 根据单词拼写查找状态
 * @author
 * @param word 单词
 * @return state 0 正确 1 错误
 */-->
    <select id="queryWordStateByphoneficId" resultType="com.tfjybj.english.entity.WordPhoneficEntity">
                SELECT
          tn_word_test.state
        FROM
          tn_word_test
        WHERE
          tn_word_test.phonefic_id = #{phoneficId}
    </select>
    <select id="queryPhoneficAboutByWordId" resultType="com.tfjybj.english.model.WordPhoneficModel">
SELECT
	*
FROM
	tn_word_phonefic twp
WHERE
	twp.phonefic_true_id = #{wordId}
</select>
    <select id="queryAllById" resultType="com.tfjybj.english.model.WordPhoneficModel">
        select
        *
        from
        tn_word_phonefic tnw
        where
        tnw.phonefic_true_id = #{phoneficid}
    </select>
    <select id="queryPhoneficAboutByPhoneficTrueId" resultType="com.tfjybj.english.model.WordPhoneficModel">
        SELECT
	*
FROM
	tn_word_phonefic twp
WHERE
	twp.phonefic_true_id = #{phoneficTrueId}
    </select>


</mapper>